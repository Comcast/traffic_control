<div class="page-title">
    <div class="title_left">
        <h3>Users <small>[ {{users.length}} ]</small></h3>
    </div>
    <div class="title_right">
        <div class="col-md-5 col-sm-5 col-xs-12 form-group pull-right top_search">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="Search..." ng-model="query.text">
                <div class="input-group-btn" uib-dropdown>
                    <button type="button" class="btn btn-default" uib-dropdown-toggle ng-disabled="disabled">
                        Show {{(usersPerPage == users.length) ? 'All' : usersPerPage}} <span class="caret"></span>
                    </button>
                    <ul uib-dropdown-menu role="menu" class="dropdown-menu-right" aria-labelledby="single-button">
                        <li role="menuitem"><a ng-click="show(10)">10</a></li>
                        <li role="menuitem"><a ng-click="show(20)">20</a></li>
                        <li role="menuitem"><a ng-click="show(50)">50</a></li>
                        <li role="menuitem"><a ng-click="show(100)">100</a></li>
                        <li class="divider"></li>
                        <li role="menuitem"><a ng-click="show(users.length)">All</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="clearfix"></div>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <table class="table table-striped responsive-utilities jambo_table bulk_action">
            <thead>
            <tr class="headings">
                <th class="column-title">
                    <a ng-click="predicate = 'fullName'; reverse = !reverse">
                        Full Name <i class="fa fa-caret-up fa-fw" ng-show="predicate == 'fullName' && !reverse"></i><i class="fa fa-caret-down fa-fw" ng-show="predicate == 'fullName' && reverse"></i>
                    </a>
                </th>
                <th class="column-title">
                    <a ng-click="predicate = 'username'; reverse = !reverse">
                        Username <i class="fa fa-caret-up fa-fw" ng-show="predicate == 'username' && !reverse"></i><i class="fa fa-caret-down fa-fw" ng-show="predicate == 'username' && reverse"></i>
                    </a>
                </th>
                <th class="column-title">
                    <a ng-click="predicate = 'email'; reverse = !reverse">
                        Email <i class="fa fa-caret-up fa-fw" ng-show="predicate == 'email' && !reverse"></i><i class="fa fa-caret-down fa-fw" ng-show="predicate == 'email' && reverse"></i>
                    </a>
                </th>
                <th class="column-title">
                    <a ng-click="predicate = 'rolename'; reverse = !reverse">
                        Role <i class="fa fa-caret-up fa-fw" ng-show="predicate == 'rolename' && !reverse"></i><i class="fa fa-caret-down fa-fw" ng-show="predicate == 'rolename' && reverse"></i>
                    </a>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr class="pointer" ng-class="{'even': $index % 2 == 0}" ng-class="{'odd': $index % 2 != 0}" ng-repeat="user in users | orderBy:predicate:reverse | filter:search:strict | offsetFilter:(currentPage-1)*usersPerPage | limitTo:usersPerPage">
                <td>
                    <i class="fa fa-check fa-fw" ng-show="user.rolename != 'disallowed'"></i> <i class="fa fa-times fa-fw" ng-show="user.rolename == 'disallowed'"></i>{{user.fullName}}
                </td>
                <td>{{user.username}}</td>
                <td>{{user.email}}</td>
                <td>{{user.rolename}}</td>
            </tr>
            <tr class="odd" ng-show="(users | filter:search:strict).length == 0">
                <td valign="top" colspan="3" class="dataTables_empty">No matching records found</td>
            </tr>
            </tbody>
        </table>
        <div class="dataTables_info">Showing {{((currentPage-1)*usersPerPage) + 1}} to {{(currentPage*usersPerPage < users.length) ? currentPage*usersPerPage : users.length }} of {{users.length}}</div>
        <div class="pull-right" ng-show="users.length > usersPerPage && (users | filter:search:strict).length > 0">
            <uib-pagination class="pagination-md" boundary-links="true" max-size="4" total-items="(users | filter:search:strict).length" items-per-page="usersPerPage" ng-model="currentPage" previous-text="Previous" next-text="Next" first-text="First" last-text="Last"></uib-pagination>
        </div>
    </div>
</div>
